<h1>Edit product</h1>

{{#if product}}
  <form
    action="/products/{{product._id}}/edit?_method=PUT"
    method="POST"
    enctype="multipart/form-data"
  >
    <input type="hidden" name="productTitle" value="{{product.title}}" />

    <div class="input-field">
      <input
        id="title"
        name="title"
        type="text"
        class="validate"
        value="{{product.title}}"
        required
      />
      <label for="title">Title of product</label>
      <span class="helper-text" data-error="Add title"></span>
    </div>

    <div class="input-field">
      <input
        id="price"
        name="price"
        type="number"
        class="validate"
        required
        min="0"
        value="{{product.price}}"
      />
      <label for="price">Price of product</label>
      <span class="helper-text" data-error="Add price"></span>
    </div>
    {{#if categories.length}}
      <div class="input-field col s12">
        <select name="category" id="category">
          {{#each categories}}
            <option value="{{_id}}">{{title}}</option>
          {{/each}}
        </select>
        <label for="category">Category</label>
      </div>
    {{/if}}

    <div class="input-field">
      <div class="file-field input-field">
        <div class="btn">
          <span>Image</span>
          <input
            type="file"
            name="image"
            value="../{{product.image}}"
            accept=".png, .jpg, .jpeg, .webp"
          />
        </div>
        <div class="file-path-wrapper">
          <input class="file-path validate" type="text" />
        </div>
      </div>
    </div>

    <button class="btn waves-effect waves-light" type="submit">Edit product</button>
  </form>
{{else}}
  <p>Not foun product</p>
{{/if}}